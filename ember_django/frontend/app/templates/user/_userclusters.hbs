<!-- Grid header : [Name], [Status], [Size], [URL Address]
Each cluster occupies a row with [Name], [Status], [Size], [IP:Port <= clickable to a new browser tab]
Grid should be sort-able by status & size -->
<div class="row">
    <div class="col col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading h4 text-center">
                User Clusters
            </div>
            <div class="table-responsive">
                <table class="table table-striped table-hover table-border">
                    <thead class="h4 text-left">
                        <tr>
                            <td class="col col-sm-2"><a href="#" {{action 'sortBy' content.clusters 'cluster_name'}}>Name</a> 
                            	<i {{bind-attr class="sortbynamearrow:glyphicon:hide sortbynamearrow:small:hide sortbyname:glyphicon-arrow-up:glyphicon-arrow-down"}}></i></td>
                            <td><a href="#" {{action 'sortBy' content.clusters 'action_date'}}>Creation Date</a> 
                            	<i {{bind-attr class="sortbydatearrow:glyphicon:hide sortbydatearrow:small:hide sortbydate:glyphicon-arrow-up:glyphicon-arrow-down"}}></i> </td>
                            <td id="id_label_status"><a href="#" {{action 'sortBy' content.clusters 'cluster_status'}}>Cluster Status</a> 
                            	<i {{bind-attr class="sortbystatusarrow:glyphicon:hide sortbystatusarrow:small:hide sortbystatus:glyphicon-arrow-up:glyphicon-arrow-down"}}></i></td>
                            <td id="id_label_hdp_status"><a href="#" {{action 'sortBy' content.clusters 'hadoop_status'}}>Hadoop Status</a>
                            	<i {{bind-attr class="sortbyhdpstatusarrow:glyphicon:hide sortbyhdpstatusarrow:small:hide sortbyhdpstatus:glyphicon-arrow-up:glyphicon-arrow-down"}}></i></td>
                            <td><a href="#" {{action 'sortBy' content.clusters 'cluster_size'}}>Size</a>
                            	<i {{bind-attr class="sortbysizearrow:glyphicon:hide sortbysizearrow:small:hide sortbysize:glyphicon-arrow-up:glyphicon-arrow-down"}}></i></td>
                            <td><a href="#" {{action 'sortBy' content.clusters 'master_IP'}}>Active IP</a>
                            	<i {{bind-attr class="sortbyurlarrow:glyphicon:hide sortbyurlarrow:small:hide sortbyurl:glyphicon-arrow-up:glyphicon-arrow-down"}}></i></td>
                            <td class="col col-sm-2"><a class="nounder">Actions</a></td>
                        </tr>
                    </thead>
                    <tbody class="text-left">
                        {{#if sortedclusters}}
                        {{#each usercluster in sortedCollection}}
                        <tr>
                            <td>{{usercluster.cluster_name}}</td>
                            <td>{{formatDate usercluster.action_date format='shortdatetime'}}</td>
                            <td><span data-toggle="tooltip" data-placement="top" data-trigger='hover focus click' data-animation=false {{bind-attr data-title='usercluster.cluster_status_verbose'}}> 
                            	<i {{bind-attr id='usercluster.cluster_status_id' class='usercluster.cluster_status_class'}}></i> {{usercluster.cluster_status_pending}}</span>
                            </td>
                            <td><i {{bind-attr id='usercluster.hadoop_status_id' class="usercluster.cluster_hadoop_status_class"}}></i>{{usercluster.hadoop_status_verbose}}</td>
                            <td>{{usercluster.cluster_size}}</td>
                            {{#if usercluster.hadoop_status_active}}
                            	<td><a {{bind-attr id='usercluster.cluster_ip_id' href='usercluster.cluster_url'}} target="_blank">{{usercluster.master_IP}}</a></td>
                            {{else}}
                            	<td><span class="text-muted">{{usercluster.master_IP}}</span></td>
                            {{/if}}
                            <td>
                            {{#if usercluster.cluster_status_active}}
                            {{#if usercluster.cluster_confirm_action}}
                            <div class="btn-group  btn-block">
							    <a role="button" {{bind-attr id='usercluster.cluster_confirm_id'}} {{action 'takeAction' usercluster}} class="btn btn-danger btn-xs active">{{usercluster.cluster_confirm_action_verbose}}</a>
							    <a role="button" {{action 'confirmAction' usercluster false}} class="btn btn-danger btn-xs active">x</a>
							</div>
                            {{else}}
                            <div class='btn-group btn-block'>
                            	<div class="pull-left" data-toggle="tooltip" data-placement="top" data-title='DESTROY CLUSTER'><button {{bind-attr id='usercluster.cluster_destroy_id'}} class="btn btn-xs btn-default"{{action 'confirmAction' usercluster 'cluster_delete'}}>
                            		<b {{bind-attr class='usercluster.cluster_status_class_destroy'}}></b> </button></div>
                            	<div class="pull-left" data-toggle="tooltip" data-placement="top" data-title='START HADOOP'><button {{bind-attr id='usercluster.hadoop_start_id'}} class="btn btn-xs btn-default" {{action 'confirmAction' usercluster 'hadoop_start'}}{{bind-attr disabled=usercluster.hadoop_action_start_disabled}}> 
                            		<b {{bind-attr class='usercluster.hadoop_status_class_start'}}></b> </button></div>
                            	<div class="pull-left" data-toggle="tooltip" data-placement="top" data-title='STOP HADOOP'><button {{bind-attr id='usercluster.hadoop_stop_id'}} class="btn btn-xs btn-default" {{action 'confirmAction' usercluster 'hadoop_stop'}}{{bind-attr disabled=usercluster.hadoop_action_stop_disabled}}> 
                            		<b {{bind-attr class='usercluster.hadoop_status_class_stop'}}></b> </button></div>
                            	<div class="pull-left"  data-toggle="tooltip" data-placement="top" data-title='FORMAT HDFS'> <button {{bind-attr id='usercluster.hadoop_format_id'}} class="btn btn-xs btn-default" {{action 'confirmAction' usercluster 'hadoop_format'}}{{bind-attr disabled=usercluster.hadoop_action_format_disabled}}> 
                            		<b {{bind-attr class='usercluster.hadoop_status_class_format'}}></b> </button></div>
                            </div>
                            {{/if}}	
                            {{/if}}
                            </td>
                        </tr>
                        {{else}}
                        <tr>
                            <td colspan="7" class="text-center text-info">No user clusters found</td>
                        </tr>
                        {{/each}}
                        {{else}}
                        {{#each usercluster in model.clusters}}
                        <tr>
                            <td>{{usercluster.cluster_name}}</td>
                            <td>{{formatDate usercluster.action_date format='shortdatetime'}}</td>
                            <td><span data-toggle="tooltip" data-placement="top" data-trigger='hover focus click' data-animation=false {{bind-attr data-title='usercluster.cluster_status_verbose'}}> 
                            	<i {{bind-attr id='usercluster.cluster_status_id' class='usercluster.cluster_status_class'}}></i> {{usercluster.cluster_status_pending}}</span>
                            </td>
                            <td><i {{bind-attr id='usercluster.hadoop_status_id' class="usercluster.cluster_hadoop_status_class"}}></i>{{usercluster.hadoop_status_verbose}}</td>
                            <td>{{usercluster.cluster_size}}</td>
                            {{#if usercluster.hadoop_status_active}}
                            	<td><a {{bind-attr id='usercluster.cluster_ip_id' href='usercluster.cluster_url'}} target="_blank">{{usercluster.master_IP}}</a></td>
                            {{else}}
                            	<td><span class="text-muted">{{usercluster.master_IP}}</span></td>
                            {{/if}}
                            <td>
                            {{#if usercluster.cluster_status_active}}
                            {{#if usercluster.cluster_confirm_action}}
                            <div class="btn-group  btn-block">
							    <a role="button" {{bind-attr id='usercluster.cluster_confirm_id'}} 
							    {{action 'takeAction' usercluster}} class="btn btn-danger btn-xs active">{{usercluster.cluster_confirm_action_verbose}}</a>
							    <a role="button" {{action 'confirmAction' usercluster false}} class="btn btn-danger btn-xs active">x</a>
							</div>
                            {{else}}
                            <div class='btn-group btn-block'>
                            	<div class="pull-left" data-toggle="tooltip" data-placement="top" data-title='DESTROY CLUSTER' >
                            		<button {{bind-attr id='usercluster.cluster_destroy_id'}} class="btn btn-xs btn-default"
                            		{{action 'confirmAction' usercluster 'cluster_delete'}}>
                            		<b {{bind-attr class='usercluster.cluster_status_class_destroy'}}></b> </button></div>
                            	
                            	<div class="pull-left" data-toggle="tooltip" data-placement="top" data-title='START HADOOP'>
                            		<button {{bind-attr id='usercluster.hadoop_start_id'}} class="btn btn-xs btn-default" 
                            		{{action 'confirmAction' usercluster 'hadoop_start'}}{{bind-attr disabled=usercluster.hadoop_action_start_disabled}}> 
                            		<b {{bind-attr class='usercluster.hadoop_status_class_start'}}></b> </button></div>
                            	
                            	<div class="pull-left" data-toggle="tooltip" data-placement="top" data-title='STOP HADOOP'>
                            		<button {{bind-attr id='usercluster.hadoop_stop_id'}} class="btn btn-xs btn-default" 
                            		{{action 'confirmAction' usercluster 'hadoop_stop'}}{{bind-attr disabled=usercluster.hadoop_action_stop_disabled}}> 
                            		<b {{bind-attr class='usercluster.hadoop_status_class_stop'}}></b> </button></div>
                            	
                            	<div class="pull-left"  data-toggle="tooltip" data-placement="top" data-title='FORMAT HDFS'> 
                            		<button {{bind-attr id='usercluster.hadoop_format_id'}} class="btn btn-xs btn-default" 
                            		{{action 'confirmAction' usercluster 'hadoop_format'}}{{bind-attr disabled=usercluster.hadoop_action_format_disabled}}> 
                            		<b {{bind-attr class='usercluster.hadoop_status_class_format'}}></b> </button></div>
                            </div>
                            {{/if}}	
                            {{/if}}
                            </td>
                        </tr>
                        </tr>
                        {{else}}
                        <tr>
                            <td colspan="7" class="text-center text-info">No user clusters found</td>
                        </tr>
                        {{/each}}
                        {{/if}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
